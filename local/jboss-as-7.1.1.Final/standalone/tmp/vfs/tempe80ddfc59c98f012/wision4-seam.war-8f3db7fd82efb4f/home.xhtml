<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:s="http://jboss.com/products/seam/taglib"
                template="/layout/template.xhtml">

    <ui:define name="title">Wision4 - Home</ui:define>

    <ui:define name="content">
        <h2>Welcome to Wision4 Seam Demo</h2>

        <p>This is a legacy demo application built with JBoss Seam 2.2.2, RichFaces 3.3.4, and JSF 1.2,
           deployed on JBoss AS 7.1.1.</p>

        <p>Use the navigation menu above to manage persons and locations.</p>

        <ui:fragment rendered="#{not userContext.guest}">
        <div class="form-panel">
            <div class="form-title">Quick Navigation</div>
            <table class="form-table">
                <tr>
                    <td style="padding: 8px;">
                        <strong>Persons</strong><br/>
                        <ui:fragment rendered="#{userContext.canEdit}">
                            <s:link view="/personEdit.xhtml" value="Create a new person" propagation="none"/> |
                        </ui:fragment>
                        <s:link view="/personList.xhtml" value="View all persons" propagation="none"/>
                    </td>
                </tr>
                <tr>
                    <td style="padding: 8px;">
                        <strong>Locations</strong><br/>
                        <ui:fragment rendered="#{userContext.canEdit}">
                            <s:link view="/locationEdit.xhtml" value="Create a new location" propagation="none"/> |
                        </ui:fragment>
                        <s:link view="/locationList.xhtml" value="View all locations" propagation="none"/>
                    </td>
                </tr>
            </table>
        </div>
        </ui:fragment>

        <ui:fragment rendered="#{userContext.guest}">
        <div class="guest-message">
            <strong>Welcome, #{userContext.username}.</strong>
            You are logged in as a guest. You can view the Home and About pages.
            Contact an administrator to request access to person and location data.
        </div>
        </ui:fragment>
    </ui:define>

</ui:composition>
